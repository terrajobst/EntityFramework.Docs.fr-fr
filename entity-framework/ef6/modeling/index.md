---
title: Création d’un modèle - EF6
author: divega
ms.date: 07/05/2018
ms.assetid: 4890228E-CEA1-4595-B8AD-CA81253F8767
ms.openlocfilehash: c02cdf0550116b703fb6436f8b0c6b064b5d1408
ms.sourcegitcommit: 269c8a1a457a9ad27b4026c22c4b1a76991fb360
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/18/2018
ms.locfileid: "46283574"
---
# <a name="creating-a-model"></a><span data-ttu-id="8ee5d-102">Création d’un modèle</span><span class="sxs-lookup"><span data-stu-id="8ee5d-102">Creating a Model</span></span>

<span data-ttu-id="8ee5d-103">Un modèle EF stocke la façon dont sont mappées les classes d’application et les propriétés aux colonnes et aux tables de base de données.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-103">An EF model stores the details about how application classes and properties map to database tables and columns.</span></span> <span data-ttu-id="8ee5d-104">Il existe deux façons principales de créer un modèle EF :</span><span class="sxs-lookup"><span data-stu-id="8ee5d-104">There are two main ways to create an EF model:</span></span>

- <span data-ttu-id="8ee5d-105">**Utilisation de Code First** : Le développeur écrit du code pour spécifier le modèle.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-105">**Using Code First**: The developer writes code to specify the model.</span></span> <span data-ttu-id="8ee5d-106">EF génère les modèles et les mappages au moment de l’exécution en fonction des classes d’entité et de la configuration de modèle supplémentaire fournie par le développeur.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-106">EF generates the models and mappings at runtime based on entity classes and additional model configuration provided by the developer.</span></span>

- <span data-ttu-id="8ee5d-107">**Utilisation d’EF Designer** : Le développeur dessine des zones et des lignes pour spécifier le modèle à l’aide d’EF Designer.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-107">**Using the EF Designer**: The developer draws boxes and lines to specify the model using the EF Designer.</span></span> <span data-ttu-id="8ee5d-108">Le modèle qui en résulte est stocké au format XML dans un fichier avec l’extension EDMX.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-108">The resulting model is stored as XML in a file with the EDMX extension.</span></span> <span data-ttu-id="8ee5d-109">De manière générale, les objets de domaine de l’application sont générés automatiquement à partir du modèle conceptuel.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-109">The application's domain objects are typically generated automatically from the conceptual model.</span></span>

## <a name="ef-workflows"></a><span data-ttu-id="8ee5d-110">Flux de travail EF</span><span class="sxs-lookup"><span data-stu-id="8ee5d-110">EF workflows</span></span>

<span data-ttu-id="8ee5d-111">Ces deux approches peuvent servir à cibler une base de données existante ou créer une base de données, ce qui génère 4 flux de travail différents.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-111">Both of these approaches can be used to target an existing database or create a new database, resulting in 4 different workflows.</span></span>
<span data-ttu-id="8ee5d-112">Découvrez celui qui vous convient le mieux :</span><span class="sxs-lookup"><span data-stu-id="8ee5d-112">Find out about which one is best for you:</span></span>  

|                                           | <span data-ttu-id="8ee5d-113">Je veux simplement écrire du code...</span><span class="sxs-lookup"><span data-stu-id="8ee5d-113">I just want to write code...</span></span>                                                                                                                   | <span data-ttu-id="8ee5d-114">Je veux utiliser un concepteur...</span><span class="sxs-lookup"><span data-stu-id="8ee5d-114">I want to use a designer...</span></span>                                                                                                                        |
|:------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="8ee5d-115">**Je crée une base de données**</span><span class="sxs-lookup"><span data-stu-id="8ee5d-115">**I am creating a new database**</span></span>          | [<span data-ttu-id="8ee5d-116">Utilisez **Code First** pour définir votre modèle dans le code et générer une base de données.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-116">Use **Code First** to define your model in code and then generate a database.</span></span>](~/ef6/modeling/code-first/workflows/new-database.md)           | [<span data-ttu-id="8ee5d-117">Utilisez **Model First** pour définir votre modèle à l’aide de zones et de lignes, puis générer une base de données.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-117">Use **Model First** to define your model using boxes and lines and then generate a database.</span></span>](~/ef6/modeling/designer/workflows/model-first.md)   |
| <span data-ttu-id="8ee5d-118">**J’ai besoin d’accéder à une base de données existante**</span><span class="sxs-lookup"><span data-stu-id="8ee5d-118">**I need to access an existing database**</span></span> | [<span data-ttu-id="8ee5d-119">Utilisez **Code First** pour créer un modèle basé sur le code mappé à une base de données existante.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-119">Use **Code First** to create a code based model that maps to an existing database.</span></span>](~/ef6/modeling/code-first/workflows/existing-database.md) | [<span data-ttu-id="8ee5d-120">Utilisez **Database First** pour créer un modèle de zones et de lignes mappé à une base de données existante.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-120">Use **Database First** to create a boxes and lines model that maps to an existing database.</span></span>](~/ef6/modeling/designer/workflows/database-first.md) |

### <a name="watch-the-video-what-ef-workflow-should-i-use"></a><span data-ttu-id="8ee5d-121">Regardez la vidéo : Quel flux de travail EF utiliser ?</span><span class="sxs-lookup"><span data-stu-id="8ee5d-121">Watch the video: What EF workflow should I use?</span></span>

<span data-ttu-id="8ee5d-122">Cette courte vidéo explique les différences entre les flux de travail et vous guide dans votre choix.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-122">This short video explains the differences, and how to find the one that is right for you.</span></span>

<span data-ttu-id="8ee5d-123">**Présentée par** : [Rowan Miller](http://romiller.com/)</span><span class="sxs-lookup"><span data-stu-id="8ee5d-123">**Presented By**: [Rowan Miller](http://romiller.com/)</span></span>

<span data-ttu-id="8ee5d-124">![Which Workflow Thumb](../media/whichworkflow-thumb.png) [WMV](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_winvideo_ChoseYourWorkflow.wmv) | [MP4](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_mp4video_ChoseYourWorkflow.m4v) | [WMV (ZIP)](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_winvideo_ChoseYourWorkflow.zip)</span><span class="sxs-lookup"><span data-stu-id="8ee5d-124">![Which Workflow Thumb](../media/whichworkflow-thumb.png) [WMV](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_winvideo_ChoseYourWorkflow.wmv) | [MP4](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_mp4video_ChoseYourWorkflow.m4v) | [WMV (ZIP)](https://download.microsoft.com/download/8/F/8/8F81F4CD-3678-4229-8D79-0C63FFA3C595/HDI_ITPro_Technet_winvideo_ChoseYourWorkflow.zip)</span></span>

<span data-ttu-id="8ee5d-125">Si, après avoir regardé la vidéo, vous n’arrivez toujours pas à vous décider entre EF Designer ou Code First, apprenez à utiliser les deux !</span><span class="sxs-lookup"><span data-stu-id="8ee5d-125">If after watching the video you still don't feel comfortable deciding if you want to use the EF Designer or Code First, learn both!</span></span>

## <a name="a-look-under-the-hood"></a><span data-ttu-id="8ee5d-126">Rouages du système</span><span class="sxs-lookup"><span data-stu-id="8ee5d-126">A look under the hood</span></span>

<span data-ttu-id="8ee5d-127">Que vous utilisiez Code First ou EF Designer, un modèle EF a toujours plusieurs composants :</span><span class="sxs-lookup"><span data-stu-id="8ee5d-127">Regardless of whether you use Code First or the EF Designer, an EF model always has several components:</span></span>

- <span data-ttu-id="8ee5d-128">Les objets de domaine de l’application ou les types d’entité eux-mêmes.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-128">The application's domain objects or entity types themselves.</span></span> <span data-ttu-id="8ee5d-129">Il s’agit de ce qu’on appelle généralement la couche objet</span><span class="sxs-lookup"><span data-stu-id="8ee5d-129">This is often referred to as the object layer</span></span>

- <span data-ttu-id="8ee5d-130">Un modèle conceptuel comprenant des types d’entité et des relations propres à un domaine, décrits à l’aide [d’Entity Data Model](~/ef6/resources/glossary.md#entity-data-model).</span><span class="sxs-lookup"><span data-stu-id="8ee5d-130">A conceptual model consisting of domain-specific entity types and relationships, described using the [Entity Data Model](~/ef6/resources/glossary.md#entity-data-model).</span></span> <span data-ttu-id="8ee5d-131">Cette couche est souvent désignée par la lettre « C » pour _conceptuelle_.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-131">This layer is often referred to with the letter "C", for _conceptual_.</span></span>

- <span data-ttu-id="8ee5d-132">Un modèle de stockage représentant des tables, des colonnes et des relations comme défini dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-132">A storage model representing tables, columns and relationships as defined in the database.</span></span> <span data-ttu-id="8ee5d-133">Cette couche est souvent désignée par la lettre « S » pour _stockage_.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-133">This layer is often referred to with the later "S", for _storage_.</span></span>  

- <span data-ttu-id="8ee5d-134">Un mappage entre le modèle conceptuel et le schéma de base de données.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-134">A mapping between the conceptual model and the database schema.</span></span> <span data-ttu-id="8ee5d-135">Ce mappage est souvent appelé mappage « C-S ».</span><span class="sxs-lookup"><span data-stu-id="8ee5d-135">This mapping is often referred to as "C-S" mapping.</span></span>

<span data-ttu-id="8ee5d-136">Le moteur de mappage d’Entity Framework s’appuie sur le mappage « C-S » pour transformer les opérations sur les entités (par ex., créer, lire, mettre à jour et supprimer) en opérations équivalentes sur les tables dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-136">EF's mapping engine leverages the "C-S" mapping to transform operations against entities - such as create, read, update, and delete - into equivalent operations against tables in the database.</span></span>

<span data-ttu-id="8ee5d-137">Le mappage entre le modèle conceptuel et les objets de l’application est souvent appelé mappage « O-C ».</span><span class="sxs-lookup"><span data-stu-id="8ee5d-137">The mapping between the conceptual model and the application's objects is often referred to as "O-C" mapping.</span></span> <span data-ttu-id="8ee5d-138">Par rapport au mappage « C-S », le mappage « O-C » est implicite et établit des relations un à un : les entités, propriétés et relations définies dans le modèle conceptuel doivent correspondre aux formes et types des objets .NET.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-138">Compared to the "C-S" mapping, "O-C" mapping is implicit and one-to-one: entities, properties and relationships defined in the conceptual model are required to match the shapes and types of the .NET objects.</span></span> <span data-ttu-id="8ee5d-139">À partir d’EF4 et version ultérieure, la couche objet peut contenir des objets simples avec des propriétés sans dépendance sur EF.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-139">From EF4 and beyond, the objects layer can be composed of simple objects with properties without any dependencies on EF.</span></span> <span data-ttu-id="8ee5d-140">Ces objets simples sont généralement désignés comme des objets CLR traditionnels (OCT) et le mappage des types et des propriétés est effectué en fonction des conventions de correspondance de nom.</span><span class="sxs-lookup"><span data-stu-id="8ee5d-140">These are usually referred to as Plain-Old CLR Objects (POCO) and mapping of types and properties is performed base on name matching conventions.</span></span> <span data-ttu-id="8ee5d-141">Auparavant, dans EF 3.5, des restrictions spécifiques s’appliquaient à la couche objet, par exemple, les entités devaient dériver de la classe EntityObject et porter des attributs EF pour implémenter le mappage « O-C ».</span><span class="sxs-lookup"><span data-stu-id="8ee5d-141">Previously, in EF 3.5 there were specific restrictions for the object layer, like entities having to derive from the EntityObject class and having to carry EF attributes to implement the "O-C" mapping.</span></span>
